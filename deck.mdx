import { Head, Notes } from "mdx-deck";

import myTheme from "./lib/theme";
export const theme = myTheme;

import CustomSplit from "./lib/split.layout.js";
import ImageSplit from "./lib/imageSplit.layout.js";
import Central from "./lib/central.layout.js";

import Clock from "./components/clock";
import Quote from "./components/quote";
import BackgroundImage from "./components/background-image";
import Legend from "./components/legend";
import Center from "./components/center";
import Counter from "./components/counter";
import LargeImage from "./components/largeImage";
import Impact from "./components/impact";
import Credit from "./components/credit";
import SlideHeadline from "./components/slide-headline";
import Portrait from "./components/portrait";
import OpeningSlide from "./components/opening-slide";
import Interlude from "./components/interlude";
import BackgroundBubbles from "./components/background-bubbles";
import TableCaption from "./components/table-caption";
import Wordcloud from "./components/wordcloud";
import ModeImage from "./components/mode-image";
import PrimaryColored from "./components/primary-colored";
import Website from "./components/website/Website";
import MfWebsite from "./components/website/Mf-Website";
import BetterMfWebsite from "./components/website/Better-Mf-Website";
import Boids from "./components/boids/Boids";
import ClosingSlide from "./components/closing-slide";

import imgPotential from "./img/potential.jpg";
import imgHTML from "./img/html.png";
import imgCSS from "./img/css.png";
import imgJS from "./img/js.png";
import imgInternet from "./img/internet.png";
import imgRequest from "./img/request.png";
import imgNode from "./img/node-logo.svg";
import imgCreative from "./img/creative.jpg";
import imgPortrait from "./img/portrait.jpg";
import imgStateFrameworks from "./img/state-js-19-frameworks.png";
import imgPWA from "./img/pwa.png";

import imgIntroOW from "./img/intra-ow.png";
import imgIntroQT from "./img/intra-qt.png";

<Head>
  <title>Overwatch Workshop - US</title>
</Head>

<OpeningSlide title="OW Updates & Workshop" subtitle="Fremont Edition" />

<Clock />

<BackgroundBubbles />

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Agenda</span>
</SlideHeadline>

- What is Overwatch(OW)
- OW Modes & User Scenarios
- OW Recent Updates
- OW Upcoming Features
- OW Demos
- Workshop

---

<SlideHeadline sectionTitle="Intro">
  <span style="line-height: 1em;">What is Overwatch(OW)</span>
</SlideHeadline>

- Overwatch is Inceptio's next generation ADS visualization solution. It's built on top of top of Uber's open source
  project - XVIZ. OW will be the successor of our current QT based Cybertron Debug UI.

<br />

<div style={{ display: "flex", justifyContent: "space-between" }}>
  <img src={imgIntroQT} width="49%" />
  <img src={imgIntroOW} width="49%" />
</div>

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Qt Comparision</span>
</SlideHeadline>

| Perspectives               |    Qt - UI    | Overwatch                 |
| :------------------------- | :-----------: | ------------------------- |
| Cross-Platform             |  Ubuntu only  | ✅ Browser; All platforms |
| Camera Views               | Top-down only | ✅ Flexible 3D views      |
| Performance                | ✅ Execllent  | Good                      |
| Flexible rendering options |      N/A      | ✅ Supported              |
| Topic Filter               | Not supported | ✅ Supported              |
| GUI Tech Stack             |      Qt       | JavaScript / WebGL        |

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Modes and User Scenarios</span>
</SlideHeadline>

| User Profile                     | Mode                      | Feature                                 |
| -------------------------------- | ------------------------- | --------------------------------------- |
| Developers, QA, Annotation Users | Online Replay             | Instant replay online                   |
| Test Engineers                   | Live                      | Live replay in vehicle with AD Commands |
| Developers, QA                   | Local Replay / Simulation | Rplay / Simulate any provided Rec files |

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Recent Updates</span>
</SlideHeadline>

- B truck adaption
- Local Replay via Chariot CLI
- Regular Updates
  - Calibration on cloud support
  - Diagnostic node name fixes on cloud
  - A lot of boundbing box underground issue
  - EQ4 bboxes
  - ...

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Upcoming Features</span>
</SlideHeadline>

- Better sychronization
- Laneline projection
- More charts
- UX color imporvments
- Preset profiles
  - Test engineers
- ...

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Pre-requisition</span>
</SlideHeadline>

- Build
- Chariot CLI
- Docker

```bash
$ bazel build --config=rbe //... # Use the cache, Luke

$ chariot --version # 2.9.0
$ chariot login # with your AD credentials

$ sudo docker
```

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">World Sim</span>
</SlideHeadline>

- Launch WorldSim

```bash
python3 simulation/tools/sims.py \
 --sim_config_path data/simulation/sim_configs/world_sim.pb.txt \
 -o /tmp/out --no_ui --no_build \
 -W data/simulation/scenarios/jinan_trigger_car_following.pb.txt
```

- Launch OW server

```bash
export ROS_DOMAIN_ID=123
./bazel-bin/ui/overwatch/live_server/live_server_main
```

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Log Sim</span>
</SlideHeadline>

- Launch Log Sim

```bash
python3 ./simulation/tools/sims.py \
  --sim_config_path data/simulation/sim_configs/records_replay.pb.txt \
  -o /tmp/out --no_build --no_ui --override_output_dir --platform p1 \
  -L /home/yujing/data/2020/08/20/7166c2b1-db42-4495-a9bd-17f9e6a3f7cb/
```

- Launch OW server

```bash
export ROS_DOMAIN_ID=123
./bazel-bin/ui/overwatch/live_server/live_server_main
```

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Simulation</span>
</SlideHeadline>

- For detailed Simulation guides, refer to the official guides
  - https://confluence.inceptio.tech/x/YnMXBw

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Local Replay</span>
</SlideHeadline>

- Use `chariot ow` to replay any given Rec file on your local environment

```bash
REC_DIR=/home/yujing/data/2020/07/15/fd874b50-4c1b-4032-a12a-fb113295fc6c/

sudo chariot ow --map jinan --with-lidar ${REC_DIR}
```

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Support</span>
</SlideHeadline>

<div style={{ display: "flex", width: "100%" }}>
  <div style={{ width: "50%" }}>
    <h4>US Timezone</h4>
    <ul>
      <li> Wilson </li>
      <li> Yujing </li>
      <li> Hongjie </li>
    </ul>
  </div>
  <div style={{ width: "50%" }}>
    <h4>CN Timezone</h4>
    <ul>
      <li> Qi He </li>
      <li> Jun Yang </li>
      <li> Victor Wang </li>
      <li> Yuanhai </li>
    </ul>
  </div>
</div>

<br />

- WeChat Work Group: Overwatch Support
- https://ow-docs.inceptio.cn
- https://confluence.inceptio.tech/display/SIM/Simulation

---

<SlideHeadline sectionTitle="OW">
  <span style="line-height: 1em;">Support</span>
</SlideHeadline>

- QA & Workshop
